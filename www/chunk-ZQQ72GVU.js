import{k as Q}from"./chunk-6WQCXGL3.js";import{a as R}from"./chunk-EDHVWACC.js";import"./chunk-CAL3EUWD.js";import"./chunk-PV3QYZAK.js";import"./chunk-QUJFQN2Y.js";import"./chunk-GSPHIAA2.js";import"./chunk-A45R2ZJ4.js";import"./chunk-NB6R7J63.js";import"./chunk-7FY2OE2O.js";import"./chunk-K4CGQJZX.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-2APRE2MX.js";import"./chunk-SX2YEQZL.js";import"./chunk-CIS46LMG.js";import"./chunk-HG52XLVA.js";import"./chunk-C673GDAH.js";import"./chunk-CKP3SGE2.js";import"./chunk-Q4OA5DTX.js";import{c as P,d as D,e as $,f as q,g as B,h as O,i as z,j as M,k as j,o as L,p as N,q as H}from"./chunk-RP52OR5B.js";import{$ as y,B as _,C as r,D as o,E as S,K as C,L as u,M as m,T as E,U as c,V as T,W as g,Z as I,_ as v,ca as k,da as w,fa as V,ga as F,j as p,k as d,q as l,r as x,t as h,x as f}from"./chunk-DQKPGLQK.js";import"./chunk-Y3DWMPTZ.js";import"./chunk-IV4XNXG4.js";import"./chunk-NSMQBKM2.js";import"./chunk-7VBOIHNM.js";import"./chunk-BXPB4ZAG.js";import"./chunk-CLDSZD2A.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-3QXY74KK.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{e as b}from"./chunk-JHI3MBHO.js";function G(n,a){if(n&1){let i=C();r(0,"ion-item")(1,"ion-thumbnail",5),S(2,"ion-img",6),o(),r(3,"ion-label")(4,"h2"),c(5),o(),r(6,"p"),c(7),o(),r(8,"p"),c(9),I(10,"number"),o()(),r(11,"ion-button",7),u("click",function(){let e=p(i).$implicit,s=m(2);return d(s.decrease(e.id))}),c(12,"-"),o(),r(13,"ion-button",8),u("click",function(){let e=p(i).$implicit,s=m(2);return d(s.increase(e.id))}),c(14,"+"),o(),r(15,"ion-button",9),u("click",function(){let e=p(i).$implicit,s=m(2);return d(s.removeFromCart(e.id))}),c(16,"Quitar"),o()()}if(n&2){let i=a.$implicit;l(2),_("src",i.image),l(3),T(i.name),l(2),g("Cantidad: ",i.quantity),l(2),g("Subtotal: \\$",v(10,5,i.price*i.quantity,"1.0-0")),l(2),_("disabled",i.quantity<=1)}}function J(n,a){if(n&1&&(r(0,"ion-list"),f(1,G,17,8,"ion-item",4),o()),n&2){let i=m();l(),_("ngForOf",i.cart)}}function K(n,a){n&1&&(r(0,"p",10),c(1,"El carrito est\xE1 vac\xEDo \u{1F6D2}"),o())}function U(n,a){if(n&1){let i=C();r(0,"ion-footer")(1,"ion-toolbar")(2,"ion-title"),c(3),I(4,"number"),o(),r(5,"ion-buttons",11)(6,"ion-button",12),u("click",function(){p(i);let e=m();return d(e.checkout())}),c(7,"Comprar"),o()()()()}if(n&2){let i=m();l(3),g("Total: $",v(4,1,i.getTotal(),"1.0-0"))}}var it=(()=>{let a=class a{constructor(t,e){this.cartService=t,this.toastCtrl=e,this.cart=[]}ngOnInit(){this.cart=this.cartService.getCart(),this.cartService.cart$.subscribe(t=>{this.cart=t})}increase(t){this.cartService.increase(t)}decrease(t){this.cartService.decrease(t)}removeFromCart(t){this.cartService.removeFromCart(t)}getTotal(){return this.cart.reduce((t,e)=>t+e.price*e.quantity,0)}checkout(){return b(this,null,function*(){this.cartService.clearCart(),(yield this.toastCtrl.create({message:"\xA1Compra exitosa! \u{1F389}",duration:2e3,color:"success"})).present()})}};a.\u0275fac=function(e){return new(e||a)(x(R),x(Q))},a.\u0275cmp=h({type:a,selectors:[["app-carrito"]],decls:9,vars:3,consts:[["emptyCart",""],[1,"ion-padding"],[4,"ngIf","ngIfElse"],[4,"ngIf"],[4,"ngFor","ngForOf"],["slot","start"],[3,"src"],["size","small",3,"click","disabled"],["size","small",3,"click"],["color","danger","size","small",3,"click"],[2,"text-align","center","margin-top","20px"],["slot","end"],["color","success",3,"click"]],template:function(e,s){if(e&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),c(3,"Carrito"),o()()(),r(4,"ion-content",1),f(5,J,2,1,"ion-list",2)(6,K,2,0,"ng-template",null,0,y),o(),f(8,U,8,4,"ion-footer",3)),e&2){let A=E(7);l(5),_("ngIf",s.cart.length>0)("ngIfElse",A),l(3),_("ngIf",s.cart.length>0)}},dependencies:[D,$,B,N,H,j,z,M,P,L,O,q,F,k,w,V],encapsulation:2});let n=a;return n})();export{it as CarritoPage};
